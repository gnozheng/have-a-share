import{d as f,r as i,b as w,e as k,o as c,c as d,h as s,F as P,i as C,t as a,p as B,q as b,w as x,_ as L}from"./index-6a372dc1.js";import{a as M,b as D}from"./markdown-d15beeb5.js";const N={class:"blog"},T={class:"blog-content"},E={class:"posts-list"},S=["onClick"],V={class:"post-meta"},$={class:"post-date"},z={class:"post-title"},F={class:"post-summary"},H={key:0,class:"pagination"},q=["disabled"],I={class:"page-info"},j=["disabled"],A={class:"modal-content"},G={class:"post-detail"},J={class:"post-detail-header"},K={class:"post-meta"},O={class:"date"},Q={class:"post-detail-content"},R=["innerHTML"],_=10,U=f({__name:"Blog",setup(W){const u=i([]),l=i(null),n=i(1),r=i(0),v=w(()=>Math.ceil(r.value/_)),p=async o=>{try{const{posts:t,total:e}=await M(o,_);u.value=t,r.value=e}catch(t){console.error("Error loading posts:",t)}},m=o=>{n.value=o,p(o),window.scrollTo(0,0)},y=async o=>{try{const t=await D(o.id);t&&(l.value=t,document.body.style.overflow="hidden")}catch(t){console.error("Error loading post:",t)}};k(()=>{p(1)});const g=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),h=()=>{l.value=null,document.body.style.overflow="auto"};return(o,t)=>(c(),d("div",N,[t[4]||(t[4]=s("header",{class:"blog-header"},[s("h1",null,"技术博客"),s("p",{class:"subtitle"},"分享技术心得和学习笔记")],-1)),s("div",T,[s("div",E,[(c(!0),d(P,null,C(u.value,e=>(c(),d("article",{key:e.id,class:"post-item",onClick:X=>y(e)},[s("div",V,[s("span",$,a(g(e.date)),1)]),s("h2",z,a(e.title),1),s("p",F,a(e.summary),1),t[2]||(t[2]=s("div",{class:"post-footer"},[s("span",{class:"read-more"},[B("继续阅读"),s("span",{class:"arrow"},"→")])],-1)),t[3]||(t[3]=s("div",{class:"post-divider"},null,-1))],8,S))),128))]),r.value>_?(c(),d("div",H,[s("button",{disabled:n.value===1,onClick:t[0]||(t[0]=e=>m(n.value-1)),class:"page-btn"}," 上一页 ",8,q),s("span",I,a(n.value)+" / "+a(v.value),1),s("button",{disabled:n.value===v.value,onClick:t[1]||(t[1]=e=>m(n.value+1)),class:"page-btn"}," 下一页 ",8,j)])):b("",!0),l.value?(c(),d("div",{key:1,class:"post-modal",onClick:x(h,["self"])},[s("div",A,[s("button",{class:"close-btn",onClick:h},"×"),s("article",G,[s("div",J,[s("h1",null,a(l.value.title),1),s("div",K,[s("span",O,a(g(l.value.date)),1)])]),s("div",Q,[s("div",{class:"post-body markdown-body",innerHTML:l.value.content},null,8,R)])])])])):b("",!0)])]))}});const ss=L(U,[["__scopeId","data-v-7d6b675a"]]);export{ss as default};
